# Сравнение производительности: wouter-vue vs vue-router

## Обзор

Данный отчет содержит подробное сравнение результатов нагрузочного тестирования двух проектов:
- **wouter-vue** (`example`) - роутинг на основе библиотеки wouter-vue
- **vue-router** (`example-vue-router`) - стандартный роутинг Vue Router

Оба проекта имеют идентичную структуру и функциональность:
- Server-Side Rendering (SSR)
- 200 маршрутов (route1 - route200)
- Навигация через все маршруты
- Производительность измерена с помощью Artillery

## Информация о тестировании

| Параметр | wouter-vue | vue-router |
|----------|-----------|------------|
| **Длительность теста** | 359.47 секунд (~6 минут) | 359.41 секунд (~6 минут) |
| **Виртуальные пользователи** | 3,300 | 3,300 |
| **Завершено успешно** | 3,300 | 3,300 |
| **Ошибок** | 0 | 0 |

## Общие метрики запросов

| Метрика | wouter-vue | vue-router | Разница |
|---------|-----------|------------|---------|
| **Всего запросов** | 36,300 | 19,800 | +16,500 (+83.33%) |
| **Успешных ответов** | 36,300 | 19,800 | +16,500 (+83.33%) |
| **HTTP 200** | 36,300 | 19,800 | +16,500 (+83.33%) |
| **Пропускная способность (req/s)** | 117 | 68 | +49 (+72.06%) |

**Вывод**: wouter-vue обработал на **83.33% больше запросов** при одинаковом количестве виртуальных пользователей и длительности теста, что указывает на более высокую пропускную способность.

## Задержка (Latency) в миллисекундах

| Процентиль | wouter-vue | vue-router | Разница |
|------------|-----------|------------|---------|
| **Минимум** | 0 мс | 0 мс | 0 мс |
| **Среднее (mean)** | 0.6 мс | 0.6 мс | 0 мс |
| **Медиана (p50)** | 1 мс | 1 мс | 0 мс |
| **p75** | 1 мс | 1 мс | 0 мс |
| **p90** | 1 мс | 1 мс | 0 мс |
| **p95** | 1 мс | 1 мс | 0 мс |
| **p99** | 2 мс | 2 мс | 0 мс |
| **p999** | 7.9 мс | 7.9 мс | 0 мс |
| **Максимум** | 51 мс | 36 мс | +15 мс (+41.67%) |

**Вывод**: Задержки практически идентичны на всех процентилях до p999. wouter-vue показал немного больший максимум (51 мс vs 36 мс), но это разница в единичных случаях и не является критичной.

## Размер данных

| Метрика | wouter-vue | vue-router | Разница |
|---------|-----------|------------|---------|
| **Всего скачано** | 45.40 MB | 25.52 MB | +19.88 MB (+77.88%) |
| **Средний размер на запрос** | 1,311.45 байт | 1,351.67 байт | -40.22 байт (-2.98%) |

**Выводы**:
- wouter-vue передал больше данных в абсолютных цифрах из-за большего количества запросов
- Однако средний размер ответа у vue-router **на 2.98% больше**, что может указывать на более тяжелый бандл

## Детальный анализ производительности

### Пропускная способность

wouter-vue показывает **на 72% более высокую пропускную способность** (117 req/s против 68 req/s). Это означает:
- Более эффективная обработка запросов
- Лучшая оптимизация роутинга
- Меньше накладных расходов при маршрутизации

### Эффективность запросов

Несмотря на то, что wouter-vue обработал больше запросов:
- Среднее время ответа **одинаковое** (0.6 мс для обоих)
- Процентили задержки **практически идентичны**
- Это указывает на стабильность производительности в обоих случаях

### Размер бандла

Средний размер ответа у vue-router на **2.98% больше**, что может быть связано с:
- Большим размером библиотеки vue-router
- Дополнительными зависимостями
- Менее оптимальным tree-shaking

## Ключевые выводы

### Преимущества wouter-vue:

1. **+72% пропускная способность** - обрабатывает значительно больше запросов в секунду
2. **+83% общее количество запросов** - при одинаковом количестве пользователей и времени
3. **Практически идентичные задержки** - несмотря на больший объем обработки
4. **Меньший размер ответа** - на 2.98% меньше данных на запрос

### Преимущества vue-router:

1. **Ниже максимальная задержка** - 36 мс против 51 мс (разница незначительна)
2. **Стандартная библиотека** - более широкое сообщество и поддержка

### Общий вердикт:

**wouter-vue демонстрирует превосходную производительность** в условиях нагрузочного тестирования:
- Обрабатывает почти в 2 раза больше запросов при тех же ресурсах
- Поддерживает те же показатели задержки
- Передает меньше данных на запрос
- Показывает стабильную работу без ошибок при высокой нагрузке

Разница в максимальной задержке (51 мс vs 36 мс) незначительна и находится в пределах нормальных колебаний.

## Технические детали

### Конфигурация теста

- **Метод тестирования**: Artillery.io
- **Сценарий**: Навигация через все маршруты (route1 - route200)
- **Виртуальные пользователи**: 3,300
- **Длительность**: ~6 минут для каждого теста
- **Ошибок**: 0 в обоих случаях

### Условия тестирования

- Оба проекта используют Server-Side Rendering (SSR)
- Идентичная структура страниц и компонентов
- Одинаковые условия окружения
- Production-сборка для обоих проектов

## Заключение

По результатам нагрузочного тестирования **wouter-vue показывает значительное превосходство** в производительности:
- **Обрабатывает на 83% больше запросов**
- **Пропускная способность выше на 72%**
- **Задержки практически идентичны**
- **Меньший размер бандла**

Это делает wouter-vue отличным выбором для высоконагруженных приложений, где важна оптимизация производительности и уменьшение размера бандла.

---

*Отчет создан на основе данных из `examples/example/testkit/artillery-report.json` и `examples/example-vue-router/testkit/artillery-report.json`*

